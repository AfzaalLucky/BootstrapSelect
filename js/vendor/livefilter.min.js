/*! ========================================================================
 * Live Filter: livefilter.js v2.0.0
 * ========================================================================
 * Copyright 2015, Salvatore Di Salvo (disalvo-infographiste[dot].be)
 * ======================================================================== */
(function(d){var b=function(e){this.$element=d(e);this.structure=d.extend({},this.parts());this.keywords=this.getKeywords();this.init()};b.VERSION="2.0.0";b.prototype.parts=function(){return{$input:d(".live-search",this.$element),$filter:d(".list-to-filter",this.$element),$clear:d(".filter-clear",this.$element),$no_results:d(".no-search-results",this.$element),$items:d(".filter-item",this.$element)}};b.prototype.getKeywords=function(){var e=[];this.structure.$items.each(function(f){e=e.concat(d(this).attr("data-filter").split("|"))});return e};b.prototype.init=function(){var e=this;if(e.keywords!=undefined&&e.keywords!=null){e.structure.$input.tabcomplete(e.keywords,{arrowKeys:true});e.structure.$clear.click(function(f){f.preventDefault();e.clear()});e.structure.$input.on("keyup",function(){var f=d(this).val().toLowerCase();e.structure.$clear.toggleClass("hide",!f);e.structure.$items.toggle(!f);e.structure.$no_results.hide();e.searchAndFilter(f)});e.structure.$input.val("").trigger("input").trigger("keyup").focus();if(e.structure.$clear){e.structure.$clear.addClass("hide")}if(e.structure.$no_results){e.structure.$no_results.hide()}}else{console.log("no keywords defined!")}};b.prototype.searchAndFilter=function(g){if(!g){return}var f=this,e=0;this.structure.$items.each(function(){var i=d(this).attr("data-filter").split("|");var h=f.inFilter(g,i);if(h){e++}d(this).toggle(!!h)});if(e==0&&g.length!=0){this.structure.$no_results.find("span").text(g);this.structure.$no_results.show()}else{this.structure.$no_results.hide()}};b.prototype.clear=function(){this.structure.$input.val("").trigger("input").trigger("keyup").focus();this.structure.$clear.addClass("hide")};b.prototype.inFilter=function(h,g){for(var f=0;f<g.length;f++){var e=g[f].toLowerCase();if(e.match(h)){return true}}return false};function c(e){return this.each(function(){var h=d(this);var g=h.data("liveFilter");var f=typeof e=="object"&&e;if(!g){h.data("liveFilter",(g=new b(this,f)))}if(typeof e=="string"&&g[e]){g[e]()}})}var a=d.fn.liveFilter;d.fn.liveFilter=c;d.fn.liveFilter.Constructor=b;d.fn.toggle.noConflict=function(){d.fn.liveFilter=a;return this};d(function(){d(".filter-by").liveFilter()})}(jQuery));